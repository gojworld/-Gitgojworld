<%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%>
<%@ include file="/WEB-INF/includes/taglibs.jsp"%>
<script type="text/javascript">
	$(document).ready(function(){
		var timeColor=[
			"bg_sky","bg_lgr","bg_org","bg_lblue","bg_dorg","bg_ygr","bg_pink","bg_red","bg_navy","bg_dnavy","bg_purple","bg_lblue"
		];
		function randomItem(a){
			return a[Math.floor(Math.random()*a.length)];
		}
		var index=0;
		var tmp={};
		$(".timeTableColor").each(function(i){
			if(!tmp[$(this).text()]){
				if(index>=timeColor.length) index=0;
				tmp[$(this).text()]=timeColor[index++];
			}
			$(this).addClass(tmp[$(this).text()]);
		});
		$("#yySem").val("${ttmgSearch.yySem}");
	});
</script>
<form:form modelAttribute="ttmgSearch" method="post" class="form-inline">
	<div class="search_wrap">
		<ul>
			<li>
				<div class="mr_5">
					<span class="form_select">
						<form:select path="yySem" class="chosen-select" data-placeholder="수강년도학기">
							<c:forEach var="yySemCd" items="${yySemList}">
								<option value="${yySemCd.yySem}">${yySemCd.semCdNm}</option>
							</c:forEach>
						</form:select>
					</span>
				</div>
			</li>
			<li>
				<button class="btn gray02">SEARCH</button>
			</li>
		</ul>
	</div>
</form:form>
<div class="time_warp">
	<div class="group">
		<div class="tit_group">
			<h3>수강시간표</h3>
		</div>
		<div class="tbl_time">
			<table>
				<caption>수강시간표</caption>
				<thead>
					<tr>
						<th scope="col"></th>
						<th scope="col">월</th>
						<th scope="col">화</th>
						<th scope="col">수</th>
						<th scope="col">목</th>
						<th scope="col">금</th>
						<th scope="col">토</th>
					</tr>
				</thead>
				<tbody id="tbody">
					<c:choose>
						<c:when test="${!empty tkcrsTmtblList}">
							<c:forEach var="tkcrsTmtbl" items="${tkcrsTmtblList}" varStatus="loop">
								<tr>
									<td>
										<strong>${tkcrsTmtbl.lctProdNm}</strong>
										<span>[${tkcrsTmtbl.frLesnTmId}]</span>
									</td>
									<c:choose>
										<c:when test="${tkcrsTmtbl.monSubjNm eq null}">
											<td>
										</c:when>
										<c:otherwise>
											<td class="time timeTableColor">
										</c:otherwise>
									</c:choose>
									<strong>${tkcrsTmtbl.monSubjNm}</strong>
									</td>
									<c:choose>
										<c:when test="${tkcrsTmtbl.tueSubjNm eq null}">
											<td>
										</c:when>
										<c:otherwise>
											<td class="time timeTableColor">
										</c:otherwise>
									</c:choose>
									<strong>${tkcrsTmtbl.tueSubjNm}</strong>
									</td>
									<c:choose>
										<c:when test="${tkcrsTmtbl.wedSubjNm eq null}">
											<td>
										</c:when>
										<c:otherwise>
											<td class="time timeTableColor">
										</c:otherwise>
									</c:choose>
									<strong>${tkcrsTmtbl.wedSubjNm}</strong>
									</td>
									<c:choose>
										<c:when test="${tkcrsTmtbl.thuSubjNm eq null}">
											<td>
										</c:when>
										<c:otherwise>
											<td class="time timeTableColor">
										</c:otherwise>
									</c:choose>
									<strong>${tkcrsTmtbl.thuSubjNm}</strong>
									</td>
									<c:choose>
										<c:when test="${tkcrsTmtbl.friSubjNm eq null}">
											<td>
										</c:when>
										<c:otherwise>
											<td class="time timeTableColor">
										</c:otherwise>
									</c:choose>
									<strong>${tkcrsTmtbl.friSubjNm}</strong>
									</td>
									<c:choose>
										<c:when test="${tkcrsTmtbl.satSubjNm eq null}">
											<td>
										</c:when>
										<c:otherwise>
											<td class="time timeTableColor">
										</c:otherwise>
									</c:choose>
									<strong>${tkcrsTmtbl.satSubjNm}</strong>
									</td>
								</tr>
							</c:forEach>
						</c:when>
					</c:choose>
				</tbody>
			</table>
		</div>
	</div>
</div>