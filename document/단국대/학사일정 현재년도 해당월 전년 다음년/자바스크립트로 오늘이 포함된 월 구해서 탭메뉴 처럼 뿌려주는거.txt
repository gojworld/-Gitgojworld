<%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%>
<%@ include file="/WEB-INF/includes/taglibs.jsp"%>
<script type="text/javascript">
	var _self={
		"monthView":function(month){
			month=(month.toString().length==1?"0":"")+month
			$(".list_box li").hide();
			$(".list_box").find("em").each(function(){
				if($(this).text().match("^([0-9]{4})\."+month+"(.+)")){
					$(this).closest("li").fadeIn(500);
				}
			});
		},
		"init":function(){
			$(".cal_month li").click(function(e){
				e.preventDefault();
				_self.monthView($(".cal_month li").index($(this))+1);
			});
			$(".cal_month li").eq(new Date().getMonth()).click();
			$(".btn_prev").click(function(e){
				$.submit("etcs/ptal/views/findBachSchedList.do",{
					"year":"${ptalSearch.year-1}"
				});
			});
			$(".btn_next").click(function(e){
				$.submit("etcs/ptal/views/findBachSchedList.do",{
					"year":"${ptalSearch.year+1}"
				});
			});
		},
	};
	$(document).ready(function(){
		_self.init();
	});
</script>
<div class="cal_wrap">
	<div class="box_pt">
		<div class="cal_ctr">
			<a href="#" class="btn_prev">이전년</a>
			<strong>
				<em>${ptalSearch.year}</em> 년
			</strong>
			<a href="#" class="btn_next">다음년</a>
		</div>
		<ul class="cal_month lnb">
			<li>
				<a href="#" id="01">01월</a>
			</li>
			<li>
				<a href="#" id="02">02월</a>
			</li>
			<li>
				<a href="#" id="03">03월</a>
			</li>
			<li>
				<a href="#" id="04">04월</a>
			</li>
			<li>
				<a href="#" id="05">05월</a>
			</li>
			<li>
				<a href="#" id="06">06월</a>
			</li>
			<li>
				<a href="#" id="07">07월</a>
			</li>
			<li>
				<a href="#" id="08">08월</a>
			</li>
			<li>
				<a href="#" id="09">09월</a>
			</li>
			<li>
				<a href="#" id="10">10월</a>
			</li>
			<li>
				<a href="#" id="11">11월</a>
			</li>
			<li>
				<a href="#" id="12">12월</a>
			</li>
		</ul>
	</div>
	<ul class="list_box">
		<c:choose>
			<c:when test="${!empty bachSchedList}">
				<c:forEach var="bachSched" items="${bachSchedList}" varStatus="loop">
					<li>
						<em>${bachSched.begindate}</em><br />
						<strong>${bachSched.title}</strong>
					</li>
				</c:forEach>
			</c:when>
			<c:otherwise>
				<div class="box_empty">
					<p class="tit">학사일정 목록이 없습니다.</p>
				</div>
			</c:otherwise>
		</c:choose>
	</ul>
</div>
