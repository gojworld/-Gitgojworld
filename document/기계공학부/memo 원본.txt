<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@ taglib prefix="fn" uri="fnLibrary"%>
<div class="tbl_top ta_l">
	<span class="tot_txt"><img src="/common/css/images/icon/icon_top_list.jpg" alt="글수" />글 수<span>댓글수${paramMap.paginationInfo.totalRecordCount}</span></span>
</div>
<div class="coment_wrap">
	<div class="com_wri_w">
		<div class="com_wri_box">
			<form:form modelAttribute="memoInfo" action="/service/cmnt/saveMemo.do" method="post">
				<div class="coment_img">
					<span><img src="/common/css/images/sub/profle_img.jpg" alt="프로필" /></span>
				</div>
				<input type="hidden" name="status" id="status" value="2" />
				<form:hidden path="memoSeq" />
				<input type="hidden" name="boardSeq" value="<c:out value="${boardInfo.boardSeq}"/>" />
				<input type="hidden" name="menuCd" value="<c:out value="${boardInfo.menuCd}"/>" />
				<form:textarea path="cont" rows="4" cols="70" class="code" placeholder="댓글을 입력하세요" />
				<a href="#" class="memoSaveBtn">등록</a>
			</form:form>
		</div>
	</div>
	<c:choose>
		<c:when test="${!empty memoList}">
			<c:forEach var="memo" items="${memoList}" varStatus="loop">
				<div class="${memo.uprMemoNb eq '0' ? 'coment_box' : 're_coment_box'}">
					<div class="coment_img">
						<span><img src="/common/css/images/sub/profle_img.jpg" alt="프로필" /></span>
					</div>
					<div class="coment_txt">
						<div class="txt_tit">
							<div class="name_w">
								<span class="name">작성자</span> <span class="date">${fn:nvl(memo.inputDm, '-')}</span>
							</div>
							<div class="coment_btn_w">
								<c:if test="${memo.uprMemoNb == '0'}">
									<a href="#" class="reUpdateBtn"><img src="/common/css/images/icon/icon_write.gif" alt="댓글" />답글</a>
								</c:if>
								<a href="#" class="memoUpdateBtn"><img src="/common/css/images/icon/icon_amend.gif" alt="수정" />수정</a>
								<input type="hidden" name="memoSeq" value="<c:out value="${memo.memoSeq}"/>" />
								<a href="#" class="memoDeleteBtn"><img src="/common/css/images/icon/icon_del.gif" alt="삭제" />삭제</a>
							</div>
						</div>
						<p class="txt">${fn:nvl(memo.cont, '-')}</p>
					</div>
				</div>
				<div class="com_wri_w modifyTr" style="display: none;">
					<div class="com_wri_box modify">
						<form:form modelAttribute="memoInfo1" action="/service/cmnt/saveMemo.do" method="post">
							<div class="coment_img">
								<span><img src="/common/css/images/sub/profle_img.jpg" alt="프로필" /></span>
							</div>
							<input type="hidden" name="status" id="status2" />
							<input type="hidden" name="memoSeq" value="<c:out value="${memo.memoSeq}"/>" />
							<input type="hidden" name="boardSeq" value="${boardInfo.boardSeq}" />
							<input type="hidden" name="menuCd" value="<c:out value="${boardInfo.menuCd}"/>" />
							<textarea path="cont" name="cont" rows="4" cols="70" class="code" placeholder="댓글을 입력하세요">${memo.cont}</textarea>
							<a href="#" class="memoUpdateBtn2">수정</a>
						</form:form>
					</div>
				</div>
				<div class="com_wri_w modifyTr2" style="display: none;">
					<div class="com_wri_box modify">
						<form:form modelAttribute="memoInfo2" action="/service/cmnt/saveMemo.do" method="post">
							<div class="coment_img">
								<span><img src="/common/css/images/sub/profle_img.jpg" alt="프로필" /></span>
							</div>
							<input type="hidden" name="status" id="status3" />
							<input type="hidden" name="memoSeq" value="<c:out value="${memo.memoSeq}"/>" />
							<input type="hidden" name="boardSeq" value="${boardInfo.boardSeq}" />
							<input type="hidden" name="menuCd" value="<c:out value="${boardInfo.menuCd}"/>" />
							<input type="hidden" name="uprMemoNb" />
							<textarea path="cont" name="cont" rows="4" cols="70" class="code" placeholder="댓글을 입력하세요"></textarea>
							<a href="#" class="reUpdateBtn2">등록</a>
						</form:form>
					</div>
				</div>
			</c:forEach>
		</c:when>
		<c:otherwise>
		</c:otherwise>
	</c:choose>
</div>